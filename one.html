<html>
<head>
<script src="p5.min.js"></script>
<script src="p5.collide2d.min.js"></script>
<script type="text/javascript">

//variable declarations
var paddleOne;
var bricks=[];
var balls=[];

//class declarations
class Bouncer{
	constructor(x, y){
		this.x=x;
		this.y=y;
	}
	disp(){
		rect(this.x-this.width/2, this.y, this.width, this.height);
	}
}

class Paddle extends Bouncer{
	constructor(x, y){
		super(x, y);
		this.width=150;
		this.height=20;
	}
	update(){
		this.x=mouseX;
	}
}

class Block extends Bouncer{
	constructor(w, h, x, y){
		super(x, y);
		this.width=w;
		this.height=h;
	}
	update(){

	}
	disp(){
		rect(this.x, this.y, this.width, this.height);
	}
}

class Ball{
	constructor(){
		this.x=0;
		this.y=0;
		this.vx=0;
		this.vy=5;
	}
	update(){
		this.x+=this.vx;
		this.y+=this.vy;
	}
	disp(){
		ellipse(this.x, this.y, 25, 25);
	}
}

//main functions
function setup(){
	createCanvas(windowWidth, windowHeight);
	paddleOne=new Paddle(width/2, height-90);
	for(let row=0; row<10; row++){
		var temp=[];
		for(let col=0; col<20; col++){
			temp.push(new Block((width-20)/20, height/20, col*((width)/20), row*(height/20)));
		}
		bricks.push(temp);
	}
	balls.push(new Ball());
}

function draw(){
	background(0);
	paddleOne.update();
	paddleOne.disp();

	for(let i=0;i<bricks.length;i++){
		for(let j=0;j<bricks[i].length;j++){
			bricks[i][j].update();
			bricks[i][j].disp();
		}
	}
	for(let i=0;i<balls.length;i++){
		balls[i].update();
		balls[i].disp();
	}
}






</script>
</head>
<body style="margin:0; padding: 0">
</body>
</html>